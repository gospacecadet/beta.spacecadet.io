{"version":3,"sources":["meteor://ðŸ’»app/seed.js"],"names":[],"mappings":"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","file":"/packages/seed.js","sourcesContent":["Seed = {\n  seed: function(options) {\n    options = options || {}\n    _.defaults(options, {\n      numProperties: 20, // number of properties to create\n      numSpaces: 5, // number of spaces at each property to create\n    })\n\n    for(let i=0; i<options.numProperties; i++) {\n      var propertyId = this.property()\n      var numPropertyImages = Seed.images(\"Storefronts\", propertyId)\n\n      for(let j=0; j<options.numSpaces; j++) {\n        var spaceId = Seed.space(propertyId)\n        var numPrices = Seed.prices(spaceId)\n        var numSpaceImages = Seed.images(\"Products\", spaceId)\n      }\n\n    }\n   },\n  images: function(objectCollection, objectId) {\n    // Site currently has copy saying up to four images, but this is an arbitraty limit\n    var n = _.sample([1, 2, 3, 4])\n    var i\n\n    for(i=0; i<n; i++) {\n      Seed.image(objectCollection, objectId, i+1)\n    }\n\n    return i\n  },\n  image: function(objectCollection, objectId, index) {\n    Mart.Images.insert({\n      objectCollection: objectCollection,\n      objectId: objectId,\n      originalUrl: this.randOriginalUrl(),\n      optimizedUrl: this.randOptimizedUrl(),\n      thumbnailUrl: this.randThumbnailUrl(),\n      index: index,\n    })\n  },\n  atLeastOne: function(array) {\n    return _.sample(array, Seed.randLimit(array.length))\n  },\n  prices: function(spaceId) {\n    // select 1-3 units from list\n    var units = this.atLeastOne(['hour', 'day', 'month'])\n    var i = 0\n\n    _.each(units, function(unit) {\n      Seed.price(spaceId, unit)\n      i++\n    })\n\n    return i\n  },\n  price: function(spaceId, unit) {\n    return Mart.Prices.insert({\n      unit: unit,\n      priceInCents: this.randZip(),\n      productId: spaceId\n    })\n  },\n  space: function(propertyId) {\n    return Mart.Products.insert({\n      storefrontId: propertyId,\n      name: this.randName(),\n      description: this.randDesc(),\n      isPublished: true,\n      isDeleted: false,\n      createdAt: new Date(),\n      occupancy: this.rand(),\n      size: this.rand() + \"x\" + this.rand()\n    }, {getAutoValues: false})\n  },\n  property: function() {\n    var userId = this.user(Random.id()+\"@spacecadet.io\" , [Mart.ROLES.GLOBAL.MERCHANT])\n\n    return Mart.Storefronts.insert({\n      name: this.randName(),\n      description: this.randDesc(),\n      userId: userId,\n      isPublished: true,\n      isDeleted: false,\n      address: this.randAddress(),\n      city: this.randCity(),\n      state: this.randState(),\n      zip: this.randZip(),\n      createdAt: new Date()\n    }, {getAutoValues: false})\n  },\n  user: function(email, roles) {\n    console.log(\"Creating email \" + email);\n\n    var userDoc = {\n      email: email,\n      password: \"password\",\n      profile: {\n        firstName: this.randWord(),\n        lastName: this.randWord(),\n        companyName: this.randName()\n      }\n    }\n    var user = Meteor.users.findOne({\"emails.address\": userDoc.email})\n    var userId\n\n    if(!user) {\n      userId = Accounts.createUser(userDoc);\n      Roles.addUsersToRoles(userId, roles, Mart.ROLES.GROUPS.GLOBAL);\n    } else {\n      userId = user._id\n    }\n\n    return userId\n  },\n  randWord: function() {\n    return this.capitalize(loremIpsum({\n      count: 1,\n      units: 'words'\n    }))\n  },\n  randName: function() {\n    return this.capitalize(loremIpsum({\n      count: 3,\n      units: 'words'\n    }))\n  },\n  randDesc: function() {\n    return loremIpsum({\n      count: 1,                      // Number of words, sentences, or paragraphs to generate.\n      units: 'paragraphs',            // Generate words, sentences, or paragraphs.\n      sentenceLowerBound: 5,         // Minimum words per sentence.\n      sentenceUpperBound: 15,        // Maximum words per sentence.\n      paragraphLowerBound: 1,        // Minimum sentences per paragraph.\n      paragraphUpperBound: 4,        // Maximum sentences per paragraph.\n    });\n  },\n  rand: function() {\n    return parseInt(Random.fraction() * 1000)\n  },\n  randAddress: function() {\n    return this.rand() + \" \" + this.randName() + \" \" + _.sample(addressEndings)\n  },\n  capitalize: function(s) {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  },\n  randCity: function() {\n    return _.sample(cities)\n  },\n  randState: function() {\n    return _.sample(states)\n  },\n  randZip: function() {\n    return parseInt(Random.fraction() * 100000)\n  },\n  randLimit: function(limit) {\n    return parseInt(Random.fraction() * limit) + 1\n  },\n  randOptimizedUrl: function() {\n    return _.sample(optimizedUrls)\n  },\n  randOriginalUrl: function() {\n    return _.sample(originalUrls)\n  },\n  randThumbnailUrl: function() {\n    return _.sample(thumbnailUrls)\n  }\n}\n\nvar addressEndings = ['Rd.', 'St.', 'Ave.', \"Pkwy.\", \"Ct.\", 'Blvd.']\nvar cities = [\"New Orleans\", \"San Antonio\", \"Silver Spring\", \"Austin\", \"Houston\", \"Cambridge\"]\nvar states = ['MD', \"LA\", \"TX\", \"DC\"]\n\nvar thumbnailUrls = [\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/7gB37vKSjzuSbpPxB/thumbnail/1.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/wcaZQQqwZ2njWkvD9/thumbnail/1.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/wcaZQQqwZ2njWkvD9/thumbnail/2.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/euRLLGs2PwEiiifAW/thumbnail/1.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/NivAY6bSKyZR9ayoJ/thumbnail/1.jpg\",\n]\n\nvar optimizedUrls = [\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/7gB37vKSjzuSbpPxB/optimized/1.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/wcaZQQqwZ2njWkvD9/optimized/1.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/wcaZQQqwZ2njWkvD9/optimized/2.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/euRLLGs2PwEiiifAW/optimized/1.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/NivAY6bSKyZR9ayoJ/optimized/1.jpg\",\n]\n\nvar originalUrls = [\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/7gB37vKSjzuSbpPxB/original/1.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/wcaZQQqwZ2njWkvD9/original/1.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/wcaZQQqwZ2njWkvD9/original/2.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/euRLLGs2PwEiiifAW/original/1.jpg\",\n  \"http://s3.amazonaws.com/local.beta.spacecadet.io/stations/NivAY6bSKyZR9ayoJ/original/1.jpg\",\n]\n"]}